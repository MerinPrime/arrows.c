#include "../../include/game/handlers.h"
#include "../../include/game/arrow_type.h"

const SignalType ACTIVE_SIGNALS[] = {
    [AR_EMPTY] = S_NONE,
    [AR_ARROW] = S_RED,
    [AR_SOURCE] = S_RED,
    [AR_BLOCKER] = S_RED,
    [AR_DELAY] = S_RED,
    [AR_DETECTOR] = S_RED,
    [AR_SPLITTER_UP_DOWN] = S_RED,
    [AR_SPLITTER_UP_RIGHT] = S_RED,
    [AR_SPLITTER_UP_RIGHT_LEFT] = S_RED,
    [AR_IMPULSE] = S_RED,
    [AR_BLUE_ARROW] = S_BLUE,
    [AR_DIAGONAL_ARROW] = S_BLUE,
    [AR_BLUE_SPLITTER_UP_UP] = S_BLUE,
    [AR_BLUE_SPLITTER_RIGHT_UP] = S_BLUE,
    [AR_BLUE_SPLITTER_UP_DIAGONAL] = S_BLUE,
    [AR_LOGIC_NOT] = S_YELLOW,
    [AR_LOGIC_AND] = S_YELLOW,
    [AR_LOGIC_XOR] = S_YELLOW,
    [AR_LATCH] = S_YELLOW,
    [AR_FLIP_FLOP] = S_YELLOW,
    [AR_RANDOM] = S_ORANGE,
    [AR_BUTTON] = S_ORANGE,
    [AR_LEVEL_SOURCE] = S_RED,
    [AR_LEVEL_TARGET] = S_NONE,
    [AR_DIRECTIONAL_BUTTON] = S_ORANGE,
};

const bool NOT_ALLOWED_TO_CHANGE_TABLE[] = {
    [AR_EMPTY] = true,
    [AR_ARROW] = false,
    [AR_SOURCE] = true,
    [AR_BLOCKER] = false,
    [AR_DELAY] = false,
    [AR_DETECTOR] = true,
    [AR_SPLITTER_UP_DOWN] = false,
    [AR_SPLITTER_UP_RIGHT] = false,
    [AR_SPLITTER_UP_RIGHT_LEFT] = false,
    [AR_IMPULSE] = true,
    [AR_BLUE_ARROW] = false,
    [AR_DIAGONAL_ARROW] = false,
    [AR_BLUE_SPLITTER_UP_UP] = false,
    [AR_BLUE_SPLITTER_RIGHT_UP] = false,
    [AR_BLUE_SPLITTER_UP_DIAGONAL] = false,
    [AR_LOGIC_NOT] = false,
    [AR_LOGIC_AND] = false,
    [AR_LOGIC_XOR] = false,
    [AR_LATCH] = false,
    [AR_FLIP_FLOP] = false,
    [AR_RANDOM] = false,
    [AR_BUTTON] = true,
    [AR_LEVEL_SOURCE] = false,
    [AR_LEVEL_TARGET] = false,
    [AR_DIRECTIONAL_BUTTON] = false,
};

const bool ENTRY_POINT_TABLE[] = {
    [AR_EMPTY] = false,
    [AR_ARROW] = false,
    [AR_SOURCE] = true,
    [AR_BLOCKER] = false,
    [AR_DELAY] = false,
    [AR_DETECTOR] = false,
    [AR_SPLITTER_UP_DOWN] = false,
    [AR_SPLITTER_UP_RIGHT] = false,
    [AR_SPLITTER_UP_RIGHT_LEFT] = false,
    [AR_IMPULSE] = true,
    [AR_BLUE_ARROW] = false,
    [AR_DIAGONAL_ARROW] = false,
    [AR_BLUE_SPLITTER_UP_UP] = false,
    [AR_BLUE_SPLITTER_RIGHT_UP] = false,
    [AR_BLUE_SPLITTER_UP_DIAGONAL] = false,
    [AR_LOGIC_NOT] = true,
    [AR_LOGIC_AND] = false,
    [AR_LOGIC_XOR] = false,
    [AR_LATCH] = false,
    [AR_FLIP_FLOP] = false,
    [AR_RANDOM] = false,
    [AR_BUTTON] = true,
    [AR_LEVEL_SOURCE] = false,
    [AR_LEVEL_TARGET] = false,
    [AR_DIRECTIONAL_BUTTON] = true,
};

const bool ADDITIONAL_UPDATE_TABLE[] = {
    [AR_EMPTY] = false,
    [AR_ARROW] = false,
    [AR_SOURCE] = false,
    [AR_BLOCKER] = false,
    [AR_DELAY] = true,
    [AR_DETECTOR] = false,
    [AR_SPLITTER_UP_DOWN] = false,
    [AR_SPLITTER_UP_RIGHT] = false,
    [AR_SPLITTER_UP_RIGHT_LEFT] = false,
    [AR_IMPULSE] = true,
    [AR_BLUE_ARROW] = false,
    [AR_DIAGONAL_ARROW] = false,
    [AR_BLUE_SPLITTER_UP_UP] = false,
    [AR_BLUE_SPLITTER_RIGHT_UP] = false,
    [AR_BLUE_SPLITTER_UP_DIAGONAL] = false,
    [AR_LOGIC_NOT] = false,
    [AR_LOGIC_AND] = false,
    [AR_LOGIC_XOR] = false,
    [AR_LATCH] = true,
    [AR_FLIP_FLOP] = true,
    [AR_RANDOM] = false,
    [AR_BUTTON] = true,
    [AR_LEVEL_SOURCE] = false,
    [AR_LEVEL_TARGET] = false,
    [AR_DIRECTIONAL_BUTTON] = true,
};